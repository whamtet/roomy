!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Datepicker=t()}(this,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function s(e,t){var i=(t||document).querySelectorAll(e);return Array.prototype.slice.call(i)}function a(e,t){var i=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;return i&&i.call(e,t)}function o(e,t,i){for(var n=i&&!i.contains(e);e&&!n;){if(a(e,t))return e;n=i&&!i.contains(e.parentNode),e=e.parentNode}return!1}function l(e,t){e.classList.add.apply(e.classList,t.split(" ").filter(Boolean))}function h(e,t){e.classList.remove.apply(e.classList,t.split(" ").filter(Boolean))}function d(e){return e||0===e}function u(e,t,i){void 0===i&&(i=!function(e,t){return t&&e.classList.contains(t)}(e,t)),t&&(i?l(e,t):h(e,t))}function c(e,t){return e instanceof Date&&(t=e.getMonth(),e=e.getFullYear()),[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function p(e,t,i){for(var n=0;n<t.length;n++){var r=e,s=t[n];if("year"==i?(r=r.getFullYear(),s=s.getFullYear()):"month"==i?(r=r.getMonth(),s=s.getMonth()):(r=r.getTime(),s=s.getTime()),r==s)return!0}return!1}function f(e,t){return e.getTime()-t.getTime()}function g(e){return!!e&&e instanceof Date&&!isNaN(e.getTime())}function m(e){if(e){var t=new Date(e);return t.setHours(0,0,0,0),t}return e}var v=function(e){var t=r(e,2);return 60*t[0]+t[1]};function _(e,t){var i=e=new Date(e);e>(t=new Date(t))&&(e=t,t=i,i=e);for(var n=[new Date(i)];i<t;)i.setDate(i.getDate()+1),n.push(new Date(i));return n}function y(t){if("object"==(void 0===t?"undefined":e(t))&&null!==t){var i=Object.getPrototypeOf(t);return i===Object.prototype||null===i}return!1}function b(t){for(var i=Array.prototype.slice.call(arguments,1),n=0;n<i.length;n++)for(var r in i[n])void 0!==t[r]&&"object"===e(i[n][r])&&null!==i[n][r]&&void 0===i[n][r].nodeName?(i[n][r]instanceof Date&&(t[r]=new Date(i[n][r].getTime())),Array.isArray(i[n][r])?t[r]=i[n][r].slice(0):t[r]=b(t[r],i[n][r])):t[r]=i[n][r];return t}function w(e,t,i){var n=[].concat(e).map(t,i);return 1===n.length?n[0]:n}function k(e){return new Function("obj","var p=[];p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');return p.join('');")}var D={inline:!1,multiple:!1,ranged:!1,time:!1,twentyFourHours:!1,openOn:"first",min:!1,max:!1,within:!1,without:!1,yearRange:5,weekStart:0,defaultTime:{start:[0,0],end:[12,0]},separator:",",serialize:function(e){var t=e.toLocaleDateString();if(this.get("time")){var i=e.toLocaleTimeString();return t+"@"+(i=i.replace(/(\d{1,2}:\d{2}):00/,"$1"))}return t},deserialize:function(e){return new Date(e)},toValue:!1,fromValue:!1,onInit:!1,onChange:!1,onRender:!1,i18n:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],time:["Time","Start","End"]},classNames:{node:"datepicker",wrapper:"datepicker__wrapper",inline:"is-inline",selected:"is-selected",disabled:"is-disabled",highlighted:"is-highlighted",otherMonth:"is-otherMonth",weekend:"is-weekend",today:"is-today"},templates:{container:['<div class="datepicker__container">',"<%= obj.renderHeader() %>","<%= obj.renderTimepicker() %>","<%= obj.renderCalendar() %>","</div>"].join(""),header:['<header class="datepicker__header">','<a class="datepicker__prev<%= (obj.hasPrev) ? "" : " is-disabled" %>" data-prev>&lsaquo;</a>','<span class="datepicker__title"><%= obj.renderMonthSelect() %></span>','<span class="datepicker__title"><%= obj.renderYearSelect() %></span>','<a class="datepicker__next<%= (obj.hasNext) ? "" : " is-disabled" %>" data-next>&rsaquo;</a>',"</header>"].join(""),timepicker:['<div class="datepicker__time">','<span class="datepicker__label"><%= obj.label %></span>','<span style="display: inline-flex">','<span class="datepicker__field"><%= obj.renderHourSelect() %></span>:','<span class="datepicker__field"><%= obj.renderMinuteSelect() %></span>','<span class="datepicker__field"><%= obj.renderPeriodSelect() %></span>',"</span>","</div>"].join(""),calendar:['<table class="datepicker__cal">',"<thead>","<tr>","<% obj.weekdays.forEach(function(name) { %>","<th><%= name %></th>","<% }); %>","</tr>","</thead>","<tbody>","<% obj.days.forEach(function(day, i) { %>",'<%= (i % 7 == 0) ? "<tr>" : "" %>',"<%= obj.renderDay(day) %>",'<%= (i % 7 == 6) ? "</tr>" : "" %>',"<% }); %>","</tbody>","</table>"].join(""),day:['<% obj.classNames.push("datepicker__day"); %>','<td class="<%= obj.classNames.join(" ") %>" data-day="<%= obj.timestamp %>"><div>','<span class="datepicker__daynum"><%= obj.daynum %></span>',"</div></td>"].join("")}};var T=function(){function e(i,n){var r=this;if(t(this,e),"string"==typeof i){if("#"!=i.substr(0,1))return s(i).map(function(e){return new r.constructor(e,n)});i=document.getElementById(i.substr(1))}i||(i=document.createElement("input")),"input"!==i.tagName.toLowerCase()||/input|hidden/i.test(i.type)||(i.type="text"),this._initDOM(i),this._initOptions(n),this._initEvents(),this.setValue(i.value||i.dataset.value||""),this._opts.onInit&&this._opts.onInit(i)}return i(e,[{key:"_initOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._opts={};var i=function(e,t){var i=t.classNames.inline;return this.node&&(u(this.node,i,e),this.wrapper.style.position=e?"":"absolute",this.wrapper.style.display=e?"":"none"),this._isOpen=e,e}.bind(this),n=function(e,t){var i=t.deserialize;return!!g(e=!!e&&w(e,i,this))&&e}.bind(this),r=function(e,t){var i=t.deserialize;return e.length&&(e=m(w(e,i,this)),e=[].concat(e).filter(g)),!!e.length&&e}.bind(this),s=function(e,t){var i=t.deserialize;if("string"!=typeof e||/^(first|last|today)$/.test(e)||g(e=i.call(this,e))||(e=new Date),!this._month){var n=e;"string"!=typeof n&&g(n)||(n=new Date),(n=m(new Date(n.getTime()))).setDate(1),this._month=n}return e}.bind(this),a=function(e){return Math.min(Math.max(e,0),6)}.bind(this),o=function(e,t){return y(e)?b({},e,t.defaultTime):{start:e.slice(0),end:e.slice(0)}}.bind(this),l=function(e,t){var i=e.node,n=e.inline,r=e.wrapper,s=t.inline;if(this.node)for(var a in e)switch(a){case"node":case"inline":this.node.className=i+(s?" "+n:"");break;case"wrapper":this.wrapper.className=r}return e}.bind(this),h=function(e){return"function"==typeof e&&e.bind(this)}.bind(this),d=function(e){for(var t in e)"select"!==t&&(this._renderers[t]=k(e[t]));return e}.bind(this);this._set={openOn:s,inline:i,weekstart:a,min:n,max:n,within:r,without:r,defaultTime:o,classNames:l,templates:d};["serialize","deserialize","onInit","onChange","onRender","setValue","getValue"].forEach(function(t){return e._set[t]=h}),this._renderers={select:k(['<span style="position:relative"><%= obj.text %>','<select data-<%= obj.type %>="<%= obj.value %>" data-index="<%= obj.index %>"','style="position:absolute;top:0;left:0;width:100%;height:100%;margin:0;opacity:0.005;cursor:pointer;">',"<% obj.options.forEach(function(o) { %>",'<option class="<%= o.className %>" value="<%= o.value %>"','<%= o.selected ? " selected" : "" %>','<%= o.disabled ? " disabled" : "" %>',"><%= o.text %></option>","<% }); %>","</select>","</span>"].join(""))},this.set(b({},this.constructor.defaults,function(e){var t=function(e){return e.trim()},i={};if(!e||!e.dataset)return i;for(var n in e.dataset){var r=e.dataset[n];/true|false/.test(r.toLowerCase())?r="true"==r.toLowerCase():"["==r[0]&&"]"==r.substr(-1)?r=w(r.substr(1,r.length-2).split(","),t):/^\d*$/.test(r)&&(r=parseInt(r,10)),i[n]=r}return i}(this._el),t))}},{key:"_initDOM",value:function(e){this.node||(this._el=e,this.node=document.createElement("div"),this.node.style.position="relative",this.wrapper=document.createElement("div"),this.wrapper.style.zIndex=9999,e.parentNode&&e.parentNode.insertBefore(this.node,e),this.node.appendChild(e),this.node.appendChild(this.wrapper))}},{key:"_initEvents",value:function(){var e=this;this._isInitialized||(this._highlighted=[],this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._onmouseup=this._onmouseup.bind(this),this._onclick=this._onclick.bind(this),"input"!==this._el.tagName.toLowerCase()?this._el.addEventListener("click",function(){return e.toggle()}):this._el.addEventListener("focus",function(){return e.open()}),document.addEventListener("mousedown",function(t){e.node.contains(t.target)||e.hide()}),this.node.onselectstart=function(){return!1},this.node.addEventListener("mousedown",this._onmousedown),this.node.addEventListener("mousemove",this._onmousemove),this.node.addEventListener("mouseup",this._onmouseup),this.node.addEventListener("click",this._onclick),this._isInitialized=!0)}},{key:"_onmousedown",value:function(e){var t=this,i=this._opts,n=i.ranged,r=i.multiple,a=i.classNames,d=a.selected,c=a.highlighted,p=o(e.target,"[data-day]",this.wrapper),f=p?parseInt(p.dataset.day,10):null;f&&(n&&this._dragStart?this._onmousemove(e):(this._deselect=!n&&this.hasDate(new Date(f)),this._highlighted=[f],this._dragStart=f,r||s("[data-day]."+d,this.wrapper).forEach(function(e){h(e,d)}),s('[data-day="'+f+'"]',this.wrapper).forEach(function(e){u(e,d,!t._deselect),l(e,c)})))}},{key:"_onmousemove",value:function(e){var t=this,i=this._opts,n=i.ranged,r=i.multiple,a=i.classNames,d=a.selected,c=a.highlighted;if((n||r)&&1===e.buttons){var p=o(e.target,"[data-day]",this.wrapper),f=p?parseInt(p.dataset.day,10):null;f&&this._dragStart&&(this._highlighted=_(this._dragStart,f).map(function(e){return e.getTime()}),this._isDragging=f!==this._dragStart,s("[data-day]."+c,this.wrapper).forEach(function(e){var i=new Date(parseInt(e.dataset.day,10));u(e,d,!n&&t.hasDate(i)),h(e,c)}),this._highlighted.forEach(function(e){s('[data-day="'+e+'"]',t.wrapper).forEach(function(e){u(e,d,!t._deselect),l(e,c)})}))}}},{key:"_onmouseup",value:function(e){var t=this._opts,i=t.ranged,n=t.multiple,r=t.classNames.highlighted;if(s("[data-day]."+r,this.wrapper).forEach(function(e){h(e,r)}),this._dragStart&&o(e.target,"[data-day]",this.node)){var a=this._highlighted.map(function(e){return new Date(e)});i||!n?this.setDate(a):this.toggleDate(a,!this._deselect),this.render(),n||i&&!this._isDragging||this.hide()}i&&!this._isDragging||(this._highlighted=[],this._dragStart=null),this._isDragging=!1}},{key:"_onclick",value:function(e){var t=this,i=e.target;"OPTION"===i.nodeName&&(i=i.parentElement),i.hasAttribute("data-prev")?this.prev(i.dataset.prev):i.hasAttribute("data-next")?this.next(i.dataset.next):i.hasAttribute("data-year")&&!i.onchange?i.onchange=function(){var e=i.dataset.year,n=t._month.getFullYear();t._month.setFullYear(parseInt(i.value)-(e-n)),t.render()}:i.hasAttribute("data-month")&&!i.onchange?i.onchange=function(){t._month.setMonth(i.value-i.dataset.index),t.render()}:i.hasAttribute("data-hour")&&!i.onchange?i.onchange=function(){var e,n,a=i.dataset.hour;if(t.setHour(a,i.value))t.render();else{e=".minute-bound",n=i.parentElement.parentElement.parentElement,s(e,n).forEach(function(e){return e.disabled=!1});var o=i.selectedOptions[0].textContent.split(" "),l=r(o,2),h=l[0],d=l[1];if(i.parentNode.firstChild.textContent=h,d)i.parentElement.parentElement.parentElement.children[2].innerHTML=d}}:i.hasAttribute("data-minute")&&!i.onchange&&(i.onchange=function(){t.setTime(i.dataset.minute,null,i.value),i.parentNode.firstChild.textContent=i.selectedOptions[0].textContent})}},{key:"set",value:function(e,t){if(e){if(y(e)){for(var i in this._noRender=!0,e.serialize&&(this.set("serialize",e.serialize),delete e.serialize),e.deserialize&&(this.set("deserialize",e.deserialize),delete e.deserialize),e)this.set(i,e[i]);this._noRender=!1,t=this._opts}else{var n=b({},this.constructor.defaults,this._opts);e in this._set&&(t=this._set[e](t,n)),y(t)&&(t=b({},n[e],t)),this._opts[e]=t}return this._isOpen&&this.wrapper&&this.render(),t}}},{key:"get",value:function(e){var t=this;if(arguments.length>1)return[].concat(Array.prototype.slice.call(arguments)).reduce(function(e,i){return e[i]=t.get(i),e},{});var i=this._opts[e];return y(i)&&(i=b({},i)),i}},{key:"open",value:function(e){var t=[].concat(this.getDate());"string"==typeof(e=e||this._opts.openOn||this._month)&&("first"===(e=e.toLowerCase())&&t.length?e=t[0]:"last"===e&&t.length?e=t[t.length-1]:"today"!==e&&(e=this._opts.deserialize(e))),g(e)||(e=new Date),this.setTime(!!this._selected.length),this.goToDate(e),this.render(),this.show()}},{key:"show",value:function(){if(!this._opts.inline){this.wrapper.style.display="block";var e=this.node.getBoundingClientRect(),t=this._el.getBoundingClientRect(),i=t.bottom-e.top+"px",n=e.bottom-t.top+"px";this.wrapper.style.top=i,this.wrapper.style.right="",this.wrapper.style.bottom="",this.wrapper.style.left=0;var r=this.wrapper.getBoundingClientRect(),s=r.right>window.innerWidth,a=r.bottom>window.innerHeight;this.wrapper.style.top=a?"":i,this.wrapper.style.right=s?0:"",this.wrapper.style.bottom=a?n:"",this.wrapper.style.left=s?"":0;var o=(r=this.wrapper.getBoundingClientRect()).right>=r.width,l=r.bottom>r.height;this.wrapper.style.top=a&&l?"":i,this.wrapper.style.right=s&&o?0:"",this.wrapper.style.bottom=a&&l?n:"",this.wrapper.style.left=s&&o?"":0,this._isOpen=!0}}},{key:"hide",value:function(){this._opts.inline||(this.wrapper.style.display="none",this._isOpen=!1)}},{key:"toggle",value:function(){this._isOpen?this.hide():this.open()}},{key:"next",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()+e),this.goToDate(t)}},{key:"prev",value:function(e){var t=new Date(this._month.getTime());e=Math.max(e||1,1),t.setMonth(t.getMonth()-e),this.goToDate(t)}},{key:"goToDate",value:function(e){(e=m(this._opts.deserialize(e))).setDate(1),this._month=e,this._isOpen&&this.render(),this._opts.onNavigate&&this._opts.onNavigate(e)}},{key:"hasDate",value:function(e){return e=m(g(e)?e:this._opts.deserialize(e)),!!this._selected&&this._selected.indexOf(e.getTime())>-1}},{key:"addDate",value:function(e){this.toggleDate(e,!0)}},{key:"removeDate",value:function(e){this.toggleDate(e,!1)}},{key:"toggleDate",value:function(e,t){var i=this,n=this._opts,r=n.ranged,s=n.multiple,a=n.deserialize,o=[].concat(e);o=(o=o.map(function(e){return g(e)?e:a(e)})).filter(function(e){return g(e)&&i.dateAllowed(e)}),r?o=(o=o.concat(this.getDate()).sort(f)).length?_(o[0],o.pop()):[]:s||(o=o.slice(0,1)),o.map(function(e){return m(e).getTime()}).forEach(function(e){var n=i._selected.indexOf(e),a=n>-1;a||!1===t?a&&!0!==t&&i._selected.splice(n,1):r||s?i._selected.push(e):i._selected=[e]}),r&&this._adjustTimes(),this._update()}},{key:"_adjustTimes",value:function(){var e,t,i=this._opts,n=i.min,r=i.max;if(this._selected.length){var s=m(n),a=m(r),o=this._selected[0],l=this._selected[this._selected.length-1];if(n&&s.getTime()===o){var h=[n.getHours(),n.getMinutes()];this._time.start=(e=h,t=this._time.start,v(e)>v(t)?e:t)}if(r&&a.getTime()===l){var d=[r.getHours(),r.getMinutes()];this._time.end=function(e,t){return v(e)>v(t)?t:e}(d,this._time.end)}}}},{key:"_update",value:function(){var e=this._opts.onChange;"input"===this._el.nodeName.toLowerCase()?this._el.value=this.getValue():this._el.dataset.value=this.getValue(),e&&e(this.getDate())}},{key:"getDate",value:function(){var e=this._opts,t=e.ranged,i=e.multiple,n=e.time,r=this._time?this._time.start:[0,0];if(this._selected=(this._selected||[]).sort(),i||t){var s=this._selected.map(function(e){return new Date(e)});if(n&&s.length&&(s[0].setHours(r[0],r[1]),s.length>1)){var a=this._time?this._time.end:[0,0];s[s.length-1].setHours(a[0],a[1])}return s}if(this._selected.length){var o=new Date(this._selected[0]);return o.setHours(r[0],r[1]),o}}},{key:"setDate",value:function(e){this._selected=[],this.addDate(e)}},{key:"_fakeClick",value:function(e){for(var t=s(".datepicker__daynum");Number(t[0].innerText)>1;)t=t.slice(1);var i=t[e-1];this._onmousedown({target:i,buttons:1}),this._onmouseup({target:i,buttons:1})}},{key:"selectRange",value:function(e,t){this.goToDate(e),this.setTime("start",e.getHours(),e.getMinutes()),this.setTime("end",t.getHours(),t.getMinutes()),this._fakeClick(e.getDate()),this._fakeClick(t.getDate())}},{key:"setHour",value:function(e,t){if(this._selected&&this._selected.length){var i=this._time[e];if("start"===e){var n=this._selected[0],r=this._opts.min;if(r&&m(r).getTime()===n&&r.getHours()===Number(t)){var s=Math.max(r.getMinutes(),i[1]);return this.setTime("start",t,s),!0}}else{var a=this._selected[this._selected.length-1],o=this._opts.max;if(o&&m(o).getTime()===a&&o.getHours()===Number(t)){var l=Math.min(o.getMinutes(),i[1]);return this.setTime("end",t,l),!0}}}return this.setTime(e,t),!1}},{key:"setTime",value:function(e,t,i){var n=this._opts,r=n.time,s=n.defaultTime;r&&(!0!==e&&this._time||(this._time=b({},s)),e&&!0!==e&&("number"==typeof e&&(i=t,t=e,e="start"),e="end"===e?e:"start",t=!!d(t)&&parseInt(t,10),i=!!d(i)&&parseInt(i,10),d(t)&&!isNaN(t)&&(this._time[e][0]=t),d(i)&&!isNaN(i)&&(this._time[e][1]=i)),this._update())}},{key:"getValue",value:function(){var e=this._opts,t=e.ranged,i=e.separator,n=e.serialize,r=e.toValue,s=[].concat(this.getDate()||[]);t&&s.length>1&&(s=[s[0],s.pop()]);var a=s.map(n).join(i);return r&&(a=r(a,s)),a}},{key:"setValue",value:function(e){var t=this._opts,i=t.ranged,n=t.time,r=t.separator,s=t.serialize,a=t.fromValue;this._selected=[];var o=a?a(e):e.split(r).filter(Boolean).map(s);if(this.addDate(o),n&&o.length){var l=o.sort(f)[0];if(this.setTime("start",l.getHours(),l.getMinutes()),"ranged"===n||i){var h=o[o.length-1];this.setTime("end",h.getHours(),h.getMinutes())}}}},{key:"dateAllowed",value:function(e,t){var i=this._opts,n=i.min,r=i.max,s=i.within,a=i.without,o=i.deserialize;n=m(n);var l=void 0,h=l=!0;return e=m(g(e)?e:o(e)),"month"==t?(h=!n||e.getMonth()>=n.getMonth(),l=!r||e.getMonth()<=r.getMonth()):"year"==t?(h=!n||e.getFullYear()>=n.getFullYear(),l=!r||e.getFullYear()<=r.getFullYear()):(h=!n||e>=n,l=!r||e<=r),h&&l&&(!a||!p(e,a,t))&&(!s||p(e,s,t))}},{key:"render",value:function(){var e=this,t=this._opts,i=t.ranged,r=t.time,s=t.onRender;if(!this._noRender&&this._renderers){var a={},o=function(t){return a[t]||(a[t]=e.getData(t))};this.wrapper.innerHTML=this._renderers.container({renderHeader:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e._renderHeader(o(t))},renderCalendar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=o(t);return e._renderers.calendar(n({},i,{renderHeader:function(){return e._renderHeader(i)},renderDay:function(t){return e._renderers.day(t)}}))},renderTimepicker:function(){var t="";return r&&(t=e._renderTimepicker("start"),("ranged"===r||i)&&(t+=e._renderTimepicker("end"))),t}}),s&&s(this.wrapper.firstChild)}}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._opts,i=t.i18n,n=t.weekStart,r=t.serialize,s=t.min,a=t.max,o=t.classNames,l=o.selected,h=o.disabled,d=o.otherMonth,u=o.weekend,p=o.today,f=new Date(this._month.getTime());f.setMonth(f.getMonth()+e);var g=f.getMonth(),v=f.getFullYear(),_=new Date(f.getTime());_.setMonth(_.getMonth()+1),_.setDate(1);var y=new Date(f.getTime());y.setMonth(y.getMonth()-1),y.setDate(c(y));for(var b=[],w=f.getDay()-n;w<0;)w+=7;for(var k=c(v,g)+w;k%7;)k+=1;for(var D=m(new Date),T=0;T<k;T++){var M=new Date(v,g,T-w+1),x=M.getMonth(),j=M.getDay(),N=this.hasDate(M),S=!this.dateAllowed(M),E=x<g,H=x>g,C=!E&&!H,O=0===j||6===j,z=M.getTime()===D.getTime(),A=[];N&&A.push(l),S&&A.push(h),C||A.push(d),O&&A.push(u),z&&A.push(p),b.push({_date:M,date:r(M),daynum:M.getDate(),timestamp:M.getTime(),weekday:i.weekdays[j],isSelected:N,isDisabled:S,isPrevMonth:E,isNextMonth:H,isThisMonth:C,isWeekend:O,isToday:z,classNames:A})}return{_date:f,index:e,year:v,month:i.months[g],days:b,weekdays:i.weekdays,hasNext:!a||_<=a,hasPrev:!s||y>=s}}},{key:"_renderHeader",value:function(e){var t=this,i=this._opts,r=i.yearRange,s=i.i18n,a=e._date,o=e.index,l=e.year,h=a.getMonth();return this._renderers.header(n({},e,{renderMonthSelect:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,i=new Date(a.getTime()),n=[],r=0;r<12;r++)i.setMonth(r),n.push({text:s.months[r],disabled:!t.dateAllowed(i,"month"),selected:r===h,value:r});return t._renderers.select({index:e,type:"month",text:s.months[h],value:h,options:n})},renderYearSelect:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,i=new Date(a.getTime()),n=l-r,s=l+r,h=[];n<=s;n++)i.setFullYear(n),h.push({disabled:!t.dateAllowed(i,"year"),selected:n===l,value:n,text:n});return t._renderers.select({index:e,type:"year",text:l,value:l,options:h})}}))}},{key:"_renderTimepicker",value:function(e){var t=this,i=this._opts,n=i.ranged,r=i.time,s=i.i18n,a=i.twentyFourHours,o=i.min,l=i.max,h=void 0,d=void 0,u=void 0,c=void 0,p="start"===e;if(this._selected&&this._selected.length){var f=m(o),g=m(l),v=this._selected[0],_=this._selected[this._selected.length-1];o&&f.getTime()===v&&(h=o.getHours(),d=o.getMinutes()),l&&g.getTime()===_&&(u=l.getHours(),c=l.getMinutes())}if(r){this._time||this.setTime(!0);var y=this._time[e],b=s.time[0];return("ranged"===r||n)&&(b=s.time["start"===e?1:2]),this._renderers.timepicker({label:b,renderHourSelect:function(){for(var i=[],n=y[0],r=function(e){return e?(e-1)%12+1:12},s=0;s<24;s++){var o=void 0;if(a)o=s<10?"0"+s:s;else{var l=s<12?" AM":" PM";o=r(s)+l}var d=p?h&&s<h:u&&s>u;i.push({text:o,selected:n===s,disabled:d,value:s})}var c=void 0;return c=a?n<10?"0"+n:n:r(n),t._renderers.select({index:0,type:"hour",value:e,options:i,text:c})},renderMinuteSelect:function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=[],r=y[0],s=0;s<60;s+=i){var a="",o=!1;p?d&&s<d&&(a="minute-bound",r===h&&(o=!0)):c&&s>c&&(a="minute-bound",r===u&&(o=!0)),n.push({text:s<10?"0"+s:s,selected:y[1]===s,disabled:o,value:s,className:a})}var l=n.filter(function(e){return e.selected})[0].text;return t._renderers.select({index:null,type:"minute",value:e,options:n,text:l})},renderPeriodSelect:function(){return a?"":y[0]<12?"AM":"PM"}})}}}]),e}();return T.defaults=D,T});
